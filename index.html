<!DOCTYPE html>
<html lang="ko">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta property="og:title" content="Glocal Weekly Master">
    <meta property="og:description" content="Day 1 ~ Day 7 ë§ì”€ ë¬µìƒ">
    <title>Glocal Weekly Master V6.1</title>
    <style>
        :root { --main-color: #2c3e50; --accent: #e67e22; --day-active: #27ae60; --bg: #f4f6f9; }
        body { font-family: 'Noto Sans KR', sans-serif; background: var(--bg); margin: 0; padding: 20px; display: flex; flex-direction: column; align-items: center; min-height: 100vh; }
        .app-container { max-width: 600px; width: 100%; background: white; border-radius: 30px; box-shadow: 0 15px 35px rgba(0,0,0,0.1); overflow: hidden; position: relative; min-height: 90vh; display: flex; flex-direction: column; }
        
        #course-selection { padding: 30px; text-align: center; }
        .intro-title { font-size: 1.8rem; font-weight: 800; color: var(--main-color); margin-bottom: 10px; }
        .track-grid { display: grid; gap: 15px; }
        .track-card { background: white; border: 2px solid #eee; border-radius: 20px; padding: 20px; cursor: pointer; transition: 0.3s; display: flex; justify-content: space-between; align-items: center; }
        .track-card:hover { border-color: var(--accent); transform: translateY(-3px); box-shadow: 0 5px 15px rgba(0,0,0,0.1); }
        .track-name { font-weight: 800; font-size: 1.1rem; color: var(--main-color); }
        .track-flag { font-size: 2rem; }

        #learning-view { display: none; flex-direction: column; height: 100%; }
        .header { background: var(--main-color); color: white; padding: 20px; text-align: center; border-radius: 0 0 25px 25px; position: relative; }
        .back-btn { position: absolute; left: 15px; top: 15px; background: none; border: none; color: white; font-size: 1.5rem; cursor: pointer; }
        
        .day-scroller { display: flex; overflow-x: auto; gap: 10px; padding: 15px 10px; background: #fff; scrollbar-width: none; border-bottom: 1px solid #eee; }
        .day-btn { flex: 0 0 auto; padding: 8px 16px; border-radius: 20px; border: 1px solid #ddd; background: #f9f9f9; color: #7f8c8d; font-weight: bold; font-size: 0.85rem; cursor: pointer; transition: 0.2s; }
        .day-btn.active { background: var(--day-active); color: white; border-color: var(--day-active); transform: scale(1.05); }

        .meal-selector { display: flex; justify-content: center; gap: 8px; padding: 15px; }
        .meal-btn { flex: 1; padding: 10px; border-radius: 50px; border: 2px solid #eee; background: white; font-weight: bold; color: #aaa; cursor: pointer; transition: 0.3s; }
        .meal-btn.active { border-color: var(--accent); color: var(--accent); background: #fff5e6; }

        .manna-container { flex: 1; padding: 0 20px 20px; overflow-y: auto; }
        .verse-group { display: flex; flex-direction: column; gap: 15px; }
        .verse-row { background: #f8f9fa; border-left: 5px solid #ccc; padding: 15px; border-radius: 10px; transition: 0.3s; }
        .verse-row.playing { background: #fff8e1; border-left-color: var(--accent); transform: scale(1.02); }
        .lang-label { font-size: 0.75rem; font-weight: bold; color: #95a5a6; display: block; margin-bottom: 5px; }
        .verse-text { font-size: 1.05rem; line-height: 1.6; color: #2c3e50; font-weight: 600; word-break: keep-all; }

        .player-bar { background: white; padding: 20px; text-align: center; box-shadow: 0 -5px 20px rgba(0,0,0,0.05); }
        .play-btn-main { background: var(--accent); color: white; border: none; padding: 15px 40px; border-radius: 50px; font-size: 1.1rem; font-weight: bold; cursor: pointer; display: inline-flex; align-items: center; gap: 10px; box-shadow: 0 5px 15px rgba(230, 126, 34, 0.4); }
    </style>
</head>
<body>
    <div class="app-container">
        <div id="course-selection">
            <div class="intro-title">Glocal Weekly Master</div>
            <p style="color:#7f8c8d; margin-bottom:20px;">7ì¼ê°„ì˜ ë§ì”€ ì—¬í–‰</p>
            <div class="track-grid">
                <div class="track-card" onclick="selectTrack('VN')"><span class="track-name">Track 1. ë² íŠ¸ë‚¨ (Vietnam)</span><span class="track-flag">ğŸ‡»ğŸ‡³</span></div>
                <div class="track-card" onclick="selectTrack('TH')"><span class="track-name">Track 2. íƒœêµ­ (Thailand)</span><span class="track-flag">ğŸ‡¹ğŸ‡­</span></div>
                <div class="track-card" onclick="selectTrack('KH')"><span class="track-name">Track 3. ìº„ë³´ë””ì•„ (Cambodia)</span><span class="track-flag">ğŸ‡°ğŸ‡­</span></div>
                <div class="track-card" onclick="selectTrack('RU')"><span class="track-name">Track 4. ëŸ¬ì‹œì•„ (Russia)</span><span class="track-flag">ğŸ‡·ğŸ‡º</span></div>
                <div class="track-card" onclick="selectTrack('LK')"><span class="track-name">Track 5. ìŠ¤ë¦¬ë‘ì¹´ (Sri Lanka)</span><span class="track-flag">ğŸ‡±ğŸ‡°</span></div>
                <div class="track-card" onclick="selectTrack('CN')"><span class="track-name">Track K. ì¤‘í™”ê¶Œ (China)</span><span class="track-flag">ğŸ‡¨ğŸ‡³</span></div>
            </div>
        </div>

        <div id="learning-view">
            <div class="header">
                <button class="back-btn" onclick="goHome()">â†</button>
                <div style="font-size:1.1rem; font-weight:bold;" id="display-track-name">ì½”ìŠ¤ ì´ë¦„</div>
            </div>
            <div class="day-scroller">
                <button class="day-btn active" onclick="setDay('01')">Day 1</button>
                <button class="day-btn" onclick="setDay('02')">Day 2</button>
                <button class="day-btn" onclick="setDay('03')">Day 3</button>
                <button class="day-btn" onclick="setDay('04')">Day 4</button>
                <button class="day-btn" onclick="setDay('05')">Day 5</button>
                <button class="day-btn" onclick="setDay('06')">Day 6</button>
                <button class="day-btn" onclick="setDay('07')">Day 7</button>
            </div>
            <div class="meal-selector">
                <button class="meal-btn active" id="btn-M" onclick="setMeal('M')">ğŸŒ… ì•„ì¹¨</button>
                <button class="meal-btn" id="btn-N" onclick="setMeal('N')">â˜€ï¸ ì ì‹¬</button>
                <button class="meal-btn" id="btn-E" onclick="setMeal('E')">ğŸŒ™ ì €ë…</button>
            </div>
            <div class="manna-container">
                <div class="verse-group">
                    <div class="verse-row" id="row-ko"><span class="lang-label">ğŸ‡°ğŸ‡· KOREAN</span><div class="verse-text" id="text-ko">...</div></div>
                    <div class="verse-row" id="row-en"><span class="lang-label">ğŸ‡ºğŸ‡¸ ENGLISH</span><div class="verse-text" id="text-en">...</div></div>
                    <div class="verse-row" id="row-target"><span class="lang-label" id="label-target">TARGET</span><div class="verse-text" id="text-target">...</div></div>
                </div>
            </div>
            <div class="player-bar">
                <button class="play-btn-main" onclick="playSequence()"><span id="play-btn-text">â–¶ 3ê°œ êµ­ì–´ ë“£ê¸°</span></button>
                <div style="margin-top:10px; font-size:0.8rem; color:#aaa;" id="status-msg">ë§ì”€ì„ ë¬µìƒí•©ë‹ˆë‹¤.</div>
            </div>
        </div>
    </div>

    <script>
        const weeklyData = {
            "01": { M: { ko: "ì—¬í˜¸ì™€ì—¬ ì•„ì¹¨ì— ì£¼ê»˜ì„œ ë‚˜ì˜ ì†Œë¦¬ë¥¼ ë“¤ìœ¼ì‹œë¦¬ë‹ˆ (ì‹œ 5:3)", en: "In the morning, Lord, you hear my voice." }, N: { ko: "í•˜ë‚˜ë‹˜ì´ ì„¸ìƒì„ ì´ì²˜ëŸ¼ ì‚¬ë‘í•˜ì‚¬ (ìš” 3:16)", en: "For God so loved the world." }, E: { ko: "ë‚´ê°€ í‰ì•ˆíˆ ëˆ•ê³  ìê¸°ë„ í•˜ë¦¬ë‹ˆ (ì‹œ 4:8)", en: "In peace I will lie down and sleep." } },
            "02": { M: { ko: "íƒœì´ˆì— í•˜ë‚˜ë‹˜ì´ ì²œì§€ë¥¼ ì°½ì¡°í•˜ì‹œë‹ˆë¼ (ì°½ 1:1)", en: "In the beginning God created the heavens." }, N: { ko: "ë‚´ê²Œ ëŠ¥ë ¥ ì£¼ì‹œëŠ” ì ì•ˆì—ì„œ ë‚´ê°€ ëª¨ë“  ê²ƒì„ í•  ìˆ˜ ìˆëŠë‹ˆë¼ (ë¹Œ 4:13)", en: "I can do all this through him." }, E: { ko: "ê°•í•˜ê³  ë‹´ëŒ€í•˜ë¼ ë‘ë ¤ì›Œí•˜ì§€ ë§ë©° (ìˆ˜ 1:9)", en: "Be strong and courageous." } },
            "03": { M: { ko: "í•˜ë‚˜ë‹˜ì´ ìê¸° í˜•ìƒëŒ€ë¡œ ì‚¬ëŒì„ ì°½ì¡°í•˜ì‹œë˜ (ì°½ 1:27)", en: "So God created mankind in his own image." }, N: { ko: "ë‚´ê°€ ê·¸ë¦¬ìŠ¤ë„ì™€ í•¨ê»˜ ì‹­ìê°€ì— ëª» ë°•í˜”ë‚˜ë‹ˆ (ê°ˆ 2:20)", en: "I have been crucified with Christ." }, E: { ko: "ê·¸ê°€ ë„ˆë¡œ ë§ë¯¸ì•”ì•„ ê¸°ì¨ì„ ì´ê¸°ì§€ ëª»í•˜ì‹œë©° (ìŠµ 3:17)", en: "He will take great delight in you." } },
            "04": { M: { ko: "ë„ˆí¬ëŠ” ê·¸ ì€í˜œì— ì˜í•˜ì—¬ ë¯¿ìŒìœ¼ë¡œ êµ¬ì›ì„ ë°›ì•˜ìœ¼ë‹ˆ (ì—¡ 2:8)", en: "For it is by grace you have been saved." }, N: { ko: "ìš°ë¦¬ê°€ ì•„ì§ ì£„ì¸ ë˜ì—ˆì„ ë•Œì— (ë¡¬ 5:8)", en: "While we were still sinners." }, E: { ko: "ì€í˜œì˜ ë³´ì¢Œ ì•ì— ë‹´ëŒ€íˆ ë‚˜ì•„ê°ˆ ê²ƒì´ë‹ˆë¼ (íˆ 4:16)", en: "Let us then approach God's throne of grace." } },
            "05": { M: { ko: "ì£¼ì˜ ë§ì”€ì€ ë‚´ ë°œì— ë“±ì´ìš” ë‚´ ê¸¸ì— ë¹›ì´ë‹ˆì´ë‹¤ (ì‹œ 119:105)", en: "Your word is a lamp for my feet." }, N: { ko: "ì‚¬ëŒì´ ë–¡ìœ¼ë¡œë§Œ ì‚´ ê²ƒì´ ì•„ë‹ˆìš” (ë§ˆ 4:4)", en: "Man shall not live on bread alone." }, E: { ko: "ì£¼ì•¼ë¡œ ê·¸ê²ƒì„ ë¬µìƒí•˜ì—¬ (ìˆ˜ 1:8)", en: "Meditate on it day and night." } },
            "06": { M: { ko: "ìš°ë¦¬ê°€ ì‚¬ë‘í•¨ì€ ê·¸ê°€ ë¨¼ì € ìš°ë¦¬ë¥¼ ì‚¬ë‘í•˜ì…¨ìŒì´ë¼ (ìš”ì¼ 4:19)", en: "We love because he first loved us." }, N: { ko: "ì„œë¡œ ì‚¬ë‘í•˜ë¼ ë‚´ê°€ ë„ˆí¬ë¥¼ ì‚¬ë‘í•œ ê²ƒ ê°™ì´ (ìš” 13:34)", en: "Love one another." }, E: { ko: "ê·¸ ì¤‘ì— ì œì¼ì€ ì‚¬ë‘ì´ë¼ (ê³ ì „ 13:13)", en: "But the greatest of these is love." } },
            "07": { M: { ko: "í•˜ë‚˜ë‹˜ì´ ê·¸ ì¼ê³±ì§¸ ë‚ ì„ ë³µë˜ê²Œ í•˜ì‚¬ ê±°ë£©í•˜ê²Œ í•˜ì…¨ìœ¼ë‹ˆ (ì°½ 2:3)", en: "God blessed the seventh day." }, N: { ko: "ì˜ê³¼ ì§„ë¦¬ë¡œ ì˜ˆë°°í• ì§€ë‹ˆë¼ (ìš” 4:24)", en: "Worship in the Spirit and in truth." }, E: { ko: "ìˆ˜ê³ í•˜ê³  ë¬´ê±°ìš´ ì§ ì§„ ìë“¤ì•„ ë‹¤ ë‚´ê²Œë¡œ ì˜¤ë¼ (ë§ˆ 11:28)", en: "Come to me, all you who are weary." } }
        };

        const tracks = {
            VN: { name: "ë² íŠ¸ë‚¨ ì½”ìŠ¤", code: "vi", label: "ğŸ‡»ğŸ‡³ VIETNAMESE" },
            TH: { name: "íƒœêµ­ ì½”ìŠ¤", code: "th", label: "ğŸ‡¹ğŸ‡­ THAI" },
            KH: { name: "ìº„ë³´ë””ì•„ ì½”ìŠ¤", code: "km", label: "ğŸ‡°ğŸ‡­ CAMBODIAN" },
            RU: { name: "ëŸ¬ì‹œì•„ ì½”ìŠ¤", code: "ru", label: "ğŸ‡·ğŸ‡º RUSSIAN" },
            LK: { name: "ìŠ¤ë¦¬ë‘ì¹´ ì½”ìŠ¤", code: "si", label: "ğŸ‡±ğŸ‡° SINHALA" },
            CN: { name: "ì¤‘í™”ê¶Œ ì½”ìŠ¤", code: "zh-CN", label: "ğŸ‡¨ğŸ‡³ CHINESE" }
        };

        let currentDay = '01'; let currentTrack = null; let currentMeal = 'M'; let isPlaying = false; let activeAudio = null;

        function selectTrack(id) {
            currentTrack = tracks[id];
            document.getElementById('course-selection').style.display = 'none';
            document.getElementById('learning-view').style.display = 'flex';
            document.getElementById('display-track-name').innerText = currentTrack.name;
            document.getElementById('label-target').innerText = currentTrack.label;
            setDay('01');
        }
        function setDay(day) {
            currentDay = day;
            document.querySelectorAll('.day-btn').forEach(b => b.classList.toggle('active', b.innerText === `Day ${parseInt(day)}`));
            updateView();
        }
        function setMeal(meal) {
            currentMeal = meal;
            ['M', 'N', 'E'].forEach(m => document.getElementById(`btn-${m}`).classList.toggle('active', m === meal));
            updateView();
        }
        function updateView() {
            stopAudio();
            const data = weeklyData[currentDay][currentMeal];
            document.getElementById('text-ko').innerText = data.ko;
            document.getElementById('text-en').innerText = data.en;
            document.getElementById('text-target').innerText = `[${currentTrack.label}] ì˜¤ë””ì˜¤ë¡œ í™•ì¸í•˜ì„¸ìš”`; 
            document.getElementById('status-msg').innerText = "Day " + parseInt(currentDay) + " ë§ì”€ì„ ë¬µìƒí•©ë‹ˆë‹¤.";
        }
        function goHome() {
            stopAudio();
            document.getElementById('learning-view').style.display = 'none';
            document.getElementById('course-selection').style.display = 'block';
        }
        function stopAudio() {
            if (activeAudio) { activeAudio.pause(); activeAudio = null; }
            isPlaying = false;
            document.querySelectorAll('.verse-row').forEach(row => row.classList.remove('playing'));
            document.getElementById('play-btn-text').innerText = "â–¶ 3ê°œ êµ­ì–´ ë“£ê¸°";
        }
        function playSequence() {
            if (isPlaying) { stopAudio(); return; }
            isPlaying = true;
            document.getElementById('play-btn-text').innerText = "â¹ ì¬ìƒ ì¤‘ì§€";
            const queue = [
                { id: 'row-ko', file: `audio/M56-D${currentDay}-${currentMeal}-ko.mp3`, lang: 'í•œêµ­ì–´' },
                { id: 'row-en', file: `audio/M56-D${currentDay}-${currentMeal}-en.mp3`, lang: 'ì˜ì–´' },
                { id: 'row-target', file: `audio/M56-D${currentDay}-${currentMeal}-${currentTrack.code}.mp3`, lang: currentTrack.name }
            ];
            playNext(queue, 0);
        }
        function playNext(queue, index) {
            if (!isPlaying) return;
            if (index >= queue.length) { stopAudio(); document.getElementById('status-msg').innerText = "ì•„ë©˜!"; return; }
            const item = queue[index];
            document.querySelectorAll('.verse-row').forEach(r => r.classList.remove('playing'));
            document.getElementById(item.id).classList.add('playing');
            document.getElementById('status-msg').innerText = `ğŸ”Š ${item.lang} ë‚­ë… ì¤‘...`;
            activeAudio = new Audio(item.file);
            activeAudio.onended = () => playNext(queue, index + 1);
            activeAudio.onerror = () => { setTimeout(() => playNext(queue, index + 1), 1000); };
            activeAudio.play();
        }
    </script>
</body>
</html>
