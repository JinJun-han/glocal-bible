<!DOCTYPE html>
<html lang="ko">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Glocal Bible V3.0</title>
    <style>
        body { font-family: 'Noto Sans KR', sans-serif; background-color: #f0f2f5; margin: 0; padding: 20px; display: flex; flex-direction: column; align-items: center; }
        .container { max-width: 600px; width: 100%; background: white; padding: 30px; border-radius: 20px; box-shadow: 0 10px 30px rgba(0,0,0,0.1); text-align: center; }
        
        /* ì‹œê°„ëŒ€ í‘œì‹œ ë””ìì¸ */
        .time-display { font-size: 1.2rem; font-weight: bold; color: #fff; background: #34495e; padding: 10px 20px; border-radius: 50px; display: inline-block; margin-bottom: 20px; }
        .time-M { background: #f1c40f; color: #000; } /* ì•„ì¹¨ */
        .time-N { background: #e67e22; } /* ì ì‹¬ */
        .time-E { background: #2c3e50; } /* ì €ë… */

        h1 { color: #2c3e50; font-size: 1.5rem; margin-bottom: 25px; }
        
        .verse-card { background: #f8f9fa; border-radius: 15px; padding: 25px; margin-bottom: 30px; border-left: 8px solid #3498db; min-height: 100px; display: flex; align-items: center; justify-content: center; font-size: 1.1rem; line-height: 1.6; font-weight: 500; }
        
        .grid { display: grid; grid-template-columns: repeat(3, 1fr); gap: 15px; }
        .lang-btn { background: white; border: 2px solid #eee; border-radius: 15px; padding: 15px 10px; cursor: pointer; transition: 0.3s; display: flex; flex-direction: column; align-items: center; }
        .lang-btn:hover { border-color: #3498db; transform: translateY(-3px); box-shadow: 0 5px 15px rgba(0,0,0,0.1); }
        .lang-btn.active { background: #3498db; color: white; border-color: #3498db; }
        .flag { font-size: 2rem; margin-bottom: 5px; }
        .lang-name { font-size: 0.85rem; font-weight: bold; }
    </style>
</head>
<body>

    <div class="container">
        <div id="time-tag" class="time-display">ì‹œê°„ í™•ì¸ ì¤‘...</div>
        
        <h1>Glocal Bible V3.0</h1>

        <div id="verse-text" class="verse-card">
            ë‚˜ë¼ë¥¼ ì„ íƒí•˜ì‹œë©´<br>ì˜¤ëŠ˜ì˜ ì„±ê²½ êµ¬ì ˆì´ ë‚˜ì˜µë‹ˆë‹¤.
        </div>

        <div class="grid" id="lang-grid">
            </div>
    </div>

    <script>
        // 1. í˜„ì¬ ì‹œê°„ ê²°ì • (ì•„ì¹¨ M: 05~12, ì ì‹¬ N: 12~18, ì €ë… E: 18~05)
        const hour = new Date().getHours();
        let timeType = 'E';
        let timeName = 'ğŸŒ™ ì €ë… ê¸°ë„ (ì‹œí¸ 4:8)';
        
        if (hour >= 5 && hour < 12) {
            timeType = 'M';
            timeName = 'ğŸŒ… ì•„ì¹¨ ê¸°ë„ (ì‹œí¸ 5:3)';
        } else if (hour >= 12 && hour < 18) {
            timeType = 'N';
            timeName = 'â˜€ï¸ ì ì‹¬ ë§ì”€ (ìš”í•œë³µìŒ 3:16)';
        }

        const timeTag = document.getElementById('time-tag');
        timeTag.innerText = timeName;
        timeTag.className = 'time-display time-' + timeType;

        // 2. 25ê°œêµ­ êµ­ê°€ ì„¤ì • (ì£¼ì¸ë‹˜ì˜ 63ê°œ íŒŒì¼ê³¼ ì—°ê²°)
        const languages = [
            { code: 'ko', name: 'í•œêµ­ì–´', flag: 'ğŸ‡°ğŸ‡·' },
            { code: 'en', name: 'English', flag: 'ğŸ‡ºğŸ‡¸' },
            { code: 'ja', name: 'æ—¥æœ¬èª', flag: 'ğŸ‡¯ğŸ‡µ' },
            { code: 'de', name: 'Deutsch', flag: 'ğŸ‡©ğŸ‡ª' },
            { code: 'zh-CN', name: 'ä¸­å›½è¯­', flag: 'ğŸ‡¨ğŸ‡³' },
            { code: 'fr', name: 'FranÃ§ais', flag: 'ğŸ‡«ğŸ‡·' },
            { code: 'es', name: 'EspaÃ±ol', flag: 'ğŸ‡ªğŸ‡¸' },
            { code: 'pt', name: 'PortuguÃªs', flag: 'ğŸ‡µğŸ‡¹' },
            { code: 'ru', name: 'Ğ ÑƒÑÑĞºĞ¸Ğ¹', flag: 'ğŸ‡·ğŸ‡º' },
            { code: 'vi', name: 'Tiáº¿ng Viá»‡t', flag: 'ğŸ‡»ğŸ‡³' },
            { code: 'th', name: 'à¹„à¸—à¸¢', flag: 'ğŸ‡¹ğŸ‡­' },
            { code: 'id', name: 'Indonesia', flag: 'ğŸ‡®ğŸ‡©' },
            { code: 'tr', name: 'TÃ¼rkÃ§e', flag: 'ğŸ‡¹ğŸ‡·' },
            { code: 'ar', name: 'Ø§Ù„Ø¹Ø±Ø¨ÙŠØ©', flag: 'ğŸ‡¸ğŸ‡¦' }
            // íŒŒì¼ì´ ìˆëŠ” ë‹¤ë¥¸ ë‚˜ë¼ë“¤ë„ ì—¬ê¸°ì— ê³„ì† ì¶”ê°€í•˜ë©´ ë²„íŠ¼ì´ ìƒê¹ë‹ˆë‹¤.
        ];

        const grid = document.getElementById('lang-grid');
        const verseBox = document.getElementById('verse-text');
        let currentAudio = null;

        // 3. ë²„íŠ¼ ìƒì„± ë° ì¬ìƒ ë¡œì§
        languages.forEach(lang => {
            const btn = document.createElement('div');
            btn.className = 'lang-btn';
            btn.innerHTML = `<span class="flag">${lang.flag}</span><span class="lang-name">${lang.name}</span>`;
            
            btn.onclick = () => {
                // ì˜¤ë””ì˜¤ íŒŒì¼ ì´ë¦„ ê·œì¹™: M56-D01-ì‹œê°„-êµ­ê°€.mp3
                const audioFile = `audio/M56-D01-${timeType}-${lang.code}.mp3`;
                
                // ì´ì „ ì†Œë¦¬ ë„ê¸°
                if (currentAudio) currentAudio.pause();
                
                // ë²„íŠ¼ ê°•ì¡°
                document.querySelectorAll('.lang-btn').forEach(b => b.classList.remove('active'));
                btn.classList.add('active');

                // ë§ì”€ í…ìŠ¤íŠ¸ ì•ˆë‚´ (í˜„ì¬ëŠ” ì¬ìƒ ì¤‘ì„ì„ í‘œì‹œ)
                verseBox.innerHTML = `ğŸ”” <b>${lang.name}</b>ë¡œ ë§ì”€ì„ ë“£ê³  ìˆìŠµë‹ˆë‹¤...`;

                // ì†Œë¦¬ ì¬ìƒ
                const audio = new Audio(audioFile);
                audio.play().then(() => {
                    currentAudio = audio;
                }).catch(err => {
                    verseBox.innerHTML = `âš ï¸ ì˜¤ë””ì˜¤ íŒŒì¼ì´ ì—†ìŠµë‹ˆë‹¤.<br>(íŒŒì¼ëª…: ${audioFile})`;
                });
            };
            
            grid.appendChild(btn);
        });
    </script>
</body>
</html>